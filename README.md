# AI网页智能分类助手 - 使用指南

这是一个基于Chrome Extension Manifest V3的智能网页分类扩展，使用OpenAI API自动将网页内容分类。

## 🚀 功能特性

- ✨ **智能分类**：使用GPT-3.5自动分析并分类网页内容
- 📊 **多种类别**：支持新闻资讯、技术文档、娱乐休闲、电商购物、社交媒体、教育学习、生活服务等
- 💾 **本地存储**：分类结果安全保存在本地，支持查看历史记录
- 🎨 **美观界面**：现代化的渐变设计，简洁易用
- 🔒 **隐私保护**：API密钥仅存储在本地，不上传任何数据

## 📦 安装步骤

### 1. 加载扩展

1. 打开Chrome浏览器
2. 在地址栏输入 `chrome://extensions/` 并回车
3. 打开右上角的**开发者模式**开关
4. 点击左上角的**加载已解压的扩展程序**按钮
5. 选择扩展所在的文件夹：

   ```
   c:\Users\liyuc\.gemini\antigravity\playground\interstellar-nova
   ```

6. 扩展加载成功后，会在浏览器工具栏显示图标

### 2. 配置API密钥

1. 点击扩展图标打开popup界面
2. 在"API设置"区域输入您的OpenAI API密钥
3. 点击**保存**按钮

> 💡 **获取API密钥**：访问 [OpenAI平台](https://platform.openai.com/api-keys) 注册并获取API密钥

## 📖 使用方法

### 分类当前页面

1. 访问您想要分类的网页
2. 点击浏览器工具栏中的扩展图标
3. 在popup界面中点击**开始分类**按钮
4. 等待几秒，AI会自动分析页面内容
5. 查看分类结果，包括：
   - 分类类别
   - 置信度（高/中/低）
   - 分类理由
   - 分类时间

### 查看历史记录

- 在popup界面的"历史记录"区域可以看到最近10条分类记录
- 每条记录显示：类别、页面标题、URL和分类时间
- 点击**清空**按钮可以清除所有历史记录

## 🎯 分类类别说明

| 类别 | 说明 | 标签颜色 |
|------|------|---------|
| 新闻资讯 | 时事新闻、财经新闻、社会新闻等 | 🔴 红色 |
| 技术文档 | 编程教程、技术博客、API文档、开发指南 | 🔵 蓝色 |
| 娱乐休闲 | 视频、音乐、游戏、影评、综艺 | 🟣 紫色 |
| 电商购物 | 商品页面、购物网站、价格比较 | 🟠 橙色 |
| 社交媒体 | 微博、推特、论坛帖子、社区讨论 | 🟢 青绿色 |
| 教育学习 | 在线课程、学术论文、学习资料、知识分享 | 🟢 绿色 |
| 生活服务 | 美食、旅游、健康、房产、招聘 | 🟠 橙黄色 |
| 其他 | 无法归类到以上类别的内容 | ⚪ 灰色 |

## ⚙️ 技术架构

### 项目结构

```
interstellar-nova/
├── manifest.json          # 扩展配置文件（Manifest V3）
├── background.js          # 后台服务工作者
├── content.js             # 内容脚本
├── popup.html            # popup界面
├── popup.js              # popup逻辑
├── popup.css             # popup样式
└── icons/                # 扩展图标
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

### 工作流程

```
┌─────────────┐
│   网页内容   │
└──────┬──────┘
       │ 1. 用户点击"开始分类"
       ▼
┌─────────────┐
│ Content.js  │ 提取页面文本（最多4000字符）
└──────┬──────┘
       │ 2. chrome.runtime.sendMessage
       ▼
┌─────────────┐
│Background.js│ 调用OpenAI API进行分类
└──────┬──────┘
       │ 3. 保存到chrome.storage
       ▼
┌─────────────┐
│  Popup界面  │ 展示分类结果和历史记录
└─────────────┘
```

## ⚠️ 注意事项

1. **API费用**：每次分类会调用OpenAI API，可能产生费用
   - 建议使用手动分类模式（当前默认）
   - GPT-3.5-turbo的费用相对较低
   - 文本限制在4000字符以内

2. **隐私安全**：
   - API密钥仅存储在本地浏览器
   - 页面内容仅发送到OpenAI API
   - 不收集或上传任何用户数据

3. **使用限制**：
   - 需要有效的OpenAI API密钥
   - 需要网络连接
   - 仅支持HTTP/HTTPS页面

4. **错误处理**：
   - 如果API密钥无效，会显示错误提示
   - 网络异常时会给出相应提示
   - 页面内容过少（少于50字符）不会进行分类

## 🔧 故障排查

### 扩展未加载

- 检查是否开启了开发者模式
- 确认文件夹路径正确
- 查看是否有错误提示

### 分类失败

- 检查API密钥是否正确配置
- 确认网络连接正常
- 打开Chrome开发者工具查看控制台错误

### API报错

- 检查API余额是否充足
- 确认API密钥权限正确
- 查看OpenAI状态页面

## 📝 开发调试

### 查看日志

1. 打开 `chrome://extensions/`
2. 找到扩展，点击**详情**
3. 点击**服务工作进程**查看background日志
4. 在网页上右键 -> 检查 -> Console查看content script日志

### 查看存储数据

1. 打开Chrome开发者工具（F12）
2. 进入Application标签
3. 左侧Storage -> Chrome Extension -> Local Storage
4. 查看 `classifications` 和 `openai_api_key` 数据

## 💡 未来改进方向

- [ ] 支持自定义分类类别
- [ ] 添加批量分类功能
- [ ] 支持导出分类结果
- [ ] 集成本地LLM（如Ollama）
- [ ] 添加统计分析功能
- [ ] 支持分类结果标签化管理

## 📄 许可证

本项目仅供学习和个人使用。

---

**享受智能分类带来的便捷体验！** 🎉
